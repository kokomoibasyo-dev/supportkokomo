<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­ã©ã‚‚ã‚µãƒãƒ¼ãƒˆãƒ»ãƒŠãƒ“</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --mi-color: #ff7f7f; --ki-color: #ffb347; --ka-color: #76ba1b; --to-color: #4db8ff;
            --bg-color: #fcf9f5; --text: #4a4a4a;
        }
        body { font-family: 'Zen Maru Gothic', sans-serif; background-color: var(--bg-color); color: var(--text); margin: 0; padding: 15px; line-height: 1.8; }
        .container { max-width: 650px; width: 100%; margin: 20px auto; background: white; padding: 25px; border-radius: 30px; box-shadow: 0 15px 35px rgba(220, 180, 150, 0.15); border: 1px solid rgba(0,0,0,0.03); box-sizing: border-box;}
        .header h1 { font-size: 1.8rem; color: #d48344; margin: 10px 0; text-align: center; }
        
        .tab-menu { display: flex; gap: 8px; margin: 20px 0; overflow-x: auto; padding-bottom: 5px; }
        .tab-btn { flex: 1; min-width: 80px; padding: 12px 5px; border: none; border-radius: 16px; cursor: pointer; font-weight: bold; background: #f0f0f0; transition: all 0.2s ease; font-family: inherit; font-size: 0.85rem; color: #999; }
        .tab-btn.active { color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .tab-btn[data-tab="mi"].active { background: var(--mi-color); }
        .tab-btn[data-tab="kishitsu"].active { background: var(--ki-color); }
        .tab-btn[data-tab="kankyo"].active { background: var(--ka-color); }
        .tab-btn[data-tab="total"].active { background: var(--to-color); }

        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .q-block { margin-bottom: 20px; padding: 20px; border-radius: 20px; background: #fff; border: 1px solid #f0f0f0; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .q-text { font-weight: bold; font-size: 1rem; margin-bottom: 18px; display: block; color: #333; line-height: 1.5; }
        .radio-group { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; }
        .radio-label { text-align: center; font-size: 0.65rem; cursor: pointer; padding: 8px 4px; border-radius: 12px; border: 1px solid #eee; background: #fafafa; }
        .radio-label input { width: 20px; height: 20px; margin-bottom: 5px; }
        
        .btn { width: 100%; padding: 18px; color: white; border: none; border-radius: 50px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 15px; box-shadow: 0 6px 15px rgba(0,0,0,0.1); }
        
        .res-area { margin-top: 25px; padding: 25px; border-radius: 25px; display: none; background: #fff; border-top: 8px solid; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .res-area h3 { color: #333; margin-top: 0; }
        
        .analysis-card { background: #fdfdfd; padding: 20px; border-radius: 20px; border: 1px solid #f0f0f0; margin-bottom: 15px; }
        .analysis-label { font-weight: bold; color: #d48344; margin-bottom: 5px; display: block; font-size: 0.9rem; }
        .analysis-text { font-size: 0.95rem; line-height: 1.7; margin-bottom: 15px; display: block; }

        #capture-container { 
            width: 1200px; 
            background: #fcf9f5; position: absolute; left: -9999px; 
            padding: 50px; box-sizing: border-box; display: flex; flex-direction: column; gap: 30px;
        }
        .cap-row { display: flex; gap: 30px; align-items: stretch; }
        .cap-col { flex: 1; display: flex; flex-direction: column; gap: 30px; }
        .cap-box { border: 2px solid #eee; border-radius: 35px; padding: 35px; background: white; box-shadow: 0 10px 20px rgba(0,0,0,0.02); }
        .cap-title { font-size: 28px; font-weight: bold; margin-bottom: 20px; color: #d48344; border-bottom: 4px solid #f9e2c4; padding-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .cap-text { font-size: 19px; line-height: 1.8; color: #4a4a4a; }

        @media print { .tab-menu, .btn { display: none !important; } }
    </style>
</head>
<body>

<div class="container">
    <div class="header"><h1>ğŸŒ± å­ã©ã‚‚ã‚µãƒãƒ¼ãƒˆãƒ»ãƒŠãƒ“</h1></div>
    
    <div class="tab-menu" id="top-tabs">
        <button class="tab-btn active" data-tab="mi">âœ¨å¼·ã¿</button>
        <button class="tab-btn" data-tab="kishitsu">ğŸŒˆæ°—è³ª</button>
        <button class="tab-btn" data-tab="kankyo">ğŸ ç’°å¢ƒ</button>
        <button class="tab-btn" data-tab="total" id="total-btn" disabled>ğŸ“Š ç·åˆ</button>
    </div>

    <div id="mi" class="tab-content active">
        <div id="mi-q"></div>
        <button class="btn" style="background:var(--mi-color)" onclick="calcMI()">ã€Œå¼·ã¿ã€ã®ãƒ’ãƒ³ãƒˆã‚’è¦‹ã‚‹ ğŸ”</button>
        <div id="chart-container"><canvas id="miChart"></canvas></div>
        <div id="mi-res" class="res-area" style="border-color:var(--mi-color)"></div>
    </div>

    <div id="kishitsu" class="tab-content">
        <div id="ki-q"></div>
        <button class="btn" style="background:var(--ki-color)" onclick="calcKi()">ã€Œæ°—è³ªã€ã®ãƒ’ãƒ³ãƒˆã‚’è¦‹ã‚‹ ğŸ”</button>
        <div id="ki-res" class="res-area" style="border-color:var(--ki-color)"></div>
    </div>

    <div id="kankyo" class="tab-content">
        <div id="ka-q"></div>
        <button class="btn" style="background:var(--ka-color)" onclick="calcKa()">ã€Œç’°å¢ƒã€ã®ãƒ’ãƒ³ãƒˆã‚’è¦‹ã‚‹ ğŸ”</button>
        <div id="ka-res" class="res-area" style="border-color:var(--ka-color)"></div>
    </div>

    <div id="total" class="tab-content">
        <div id="total-content"></div>
        <button class="btn" style="background:var(--to-color)" onclick="saveAsImage()">ğŸ“¸ ç”»åƒã§ä¿å­˜ã™ã‚‹</button>
    </div>

    <div class="tab-menu" id="footer-tabs" style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px;">
        <button class="tab-btn active" data-tab="mi">âœ¨å¼·ã¿</button>
        <button class="tab-btn" data-tab="kishitsu">ğŸŒˆæ°—è³ª</button>
        <button class="tab-btn" data-tab="kankyo">ğŸ ç’°å¢ƒ</button>
        <button class="tab-btn" data-tab="total" disabled>ğŸ“Š ç·åˆ</button>
    </div>
</div>

<div id="capture-container">
    <div class="cap-box" style="background:#fffcf5;">
        <div class="cap-title">ğŸ¤ ãŠå­ã•ã‚“ã¸ã®ä¼´èµ°ã‚¬ã‚¤ãƒ‰</div>
        <div id="cap-summary" class="cap-text"></div>
    </div>
    <div class="cap-row">
        <div class="cap-col">
            <div class="cap-box" style="background:#fff5f5; border-color:#ff7f7f; height: 100%;">
                <div class="cap-title" style="color:#ff7f7f;">ğŸ’ ç¿»è¨³ï¼šè¡Œå‹•ã®è£å´ã«ã‚ã‚‹ã‚‚ã®</div>
                <div id="cap-translation" class="cap-text"></div>
            </div>
        </div>
        <div class="cap-col">
            <div class="cap-box" style="background:#f0f7ff; border-color:#4db8ff; height: 100%;">
                <div class="cap-title" style="color:#4db8ff;">ğŸ’Œ ãŠçˆ¶ã•ã‚“ãƒ»ãŠæ¯ã•ã‚“ã¸</div>
                <div id="cap-message" class="cap-text"></div>
            </div>
        </div>
    </div>
</div>

<script>
const miData = [
    {c:"è¨€èª", q:"ğŸ“š è¨€è‘‰ã®éŸ¿ãã‚’æ¥½ã—ã‚“ã ã‚Šã€ç‰©èªã‚’ä½œã£ã¦è©±ã™ã®ãŒå¥½ã"},{c:"è¨€èª", q:"ğŸ“– çµµæœ¬ã®èª­ã¿èã‹ã›ã‚’å¥½ã¿ã€è¨€è‘‰ã®æ„å‘³ã‚’ã‚ˆãè³ªå•ã™ã‚‹"},{c:"è¨€èª", q:"âœï¸ æ‰‹ç´™ã‚’æ›¸ã„ãŸã‚Šã€è‡ªåˆ†ã®æ°—æŒã¡ã‚’è¨€è‘‰ã«ã™ã‚‹ã®ãŒå¾—æ„"},
    {c:"è«–ç†", q:"ğŸ§© ãƒ‘ã‚ºãƒ«ã‚„æ•°å­—ã®ä¸¦ã³ã€ç‰©äº‹ã®æ³•å‰‡ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒå¾—æ„"},{c:"è«–ç†", q:"ğŸ” ã€Œã©ã†ã—ã¦ã“ã†ãªã‚‹ã®ï¼Ÿã€ã¨ä»•çµ„ã¿ã‚’æ·±ãçŸ¥ã‚ŠãŸãŒã‚‹"},{c:"è«–ç†", q:"ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ãŸã‚Šã€åˆ†é¡ã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚’å¥½ã‚€"},
    {c:"ç©ºé–“", q:"ğŸ—ºï¸ åˆã‚ã¦ã®é“ã‚„å»ºç‰©ã®æ§‹é€ ã‚’ã€é ­ã®ä¸­ã§æ‰ãˆã‚‹ã®ãŒä¸Šæ‰‹"},{c:"ç©ºé–“", q:"ğŸ° ãƒ–ãƒ­ãƒƒã‚¯ã‚„å·¥ä½œã§ã€ç«‹ä½“çš„ãªä½œå“ã‚’ä½œã‚‹ã®ãŒå¥½ã"},{c:"ç©ºé–“", q:"ğŸ¨ çµµç”»ã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã€è‰²ä½¿ã„ã«ç‹¬è‡ªã®ã‚»ãƒ³ã‚¹ãŒã‚ã‚‹"},
    {c:"èº«ä½“", q:"ğŸƒâ€â™‚ï¸ ãƒ€ãƒ³ã‚¹ã‚„é‹å‹•ãªã©ã€ä½“ã‚’æ€ã„é€šã‚Šã«å‹•ã‹ã™ã®ãŒå¾—æ„"},{c:"èº«ä½“", q:"âœ‚ï¸ æŠ˜ã‚Šç´™ã‚„æ–™ç†ãªã©ã€æ‰‹å…ˆã‚’ä½¿ã£ãŸç´°ã‹ã„ä½œæ¥­ãŒå¾—æ„"},{c:"èº«ä½“", q:"ğŸ­ èº«æŒ¯ã‚Šæ‰‹æŒ¯ã‚Šã§æ„Ÿæƒ…ã‚’è¡¨ç¾ã™ã‚‹ã®ãŒè±Šã‹ã "},
    {c:"éŸ³æ¥½", q:"ğŸ¶ é¼»æ­Œã‚„ãƒªã‚ºãƒ ä¹—ã‚ŠãŒè‰¯ãã€ãƒ¡ãƒ­ãƒ‡ã‚£ã‚’è¦šãˆã‚‹ã®ãŒæ—©ã„"},{c:"éŸ³æ¥½", q:"ğŸ¹ å‘¨å›²ã®éŸ³ã‚„äººã®å£°ã®ãƒˆãƒ¼ãƒ³ã«æ•æ„Ÿã«åå¿œã™ã‚‹"},
    {c:"å¯¾äºº", q:"ğŸ¤ å‹é”ãŒå›°ã£ã¦ã„ã‚‹ã¨ã™ãã«æ°—ã¥ã„ã¦å£°ã‚’ã‹ã‘ã‚‰ã‚Œã‚‹"},{c:"å¯¾äºº", q:"ğŸ« ä¸€äººã‚ˆã‚Šã€ã¿ã‚“ãªã§å”åŠ›ã—ã¦ä½•ã‹ã‚’ã™ã‚‹ã®ãŒå¥½ã"},
    {c:"å†…çœ", q:"ğŸ§˜ è‡ªåˆ†ã®è€ƒãˆã‚’ã—ã£ã‹ã‚ŠæŒã¡ã€ä¸€äººã§é™ã‹ã«éã”ã™æ™‚é–“ã‚’å¥½ã‚€"},{c:"å†…çœ", q:"ğŸ’­ ã€Œè‡ªåˆ†ã¯ã“ã†ã—ãŸã„ã€ã¨ã„ã†æ„å¿—ãŒã¯ã£ãã‚Šã—ã¦ã„ã‚‹"},
    {c:"åšç‰©", q:"ğŸ¦– æç«œã€æ¤ç‰©ã€ä¹—ã‚Šç‰©ãªã©ã€å¥½ããªã‚‚ã®ã‚’åé›†ãƒ»è¦³å¯Ÿã™ã‚‹"},{c:"åšç‰©", q:"ğŸŒ¦ï¸ è‡ªç„¶ã®å¤‰åŒ–ã‚„ç”Ÿãç‰©ã®ç”Ÿæ…‹ã«å¼·ã„é–¢å¿ƒã‚’ç¤ºã™"}
];

const kiData = [
    {t:"ãƒ‡ãƒªã‚±ãƒ¼ãƒˆ", q:"ğŸ‘€ æœã®ã‚¿ã‚°ã‚„å…‰ã€å°ã•ãªç‰©éŸ³ã«ã™ãæ°—ã¥ã„ã¦å«ŒãŒã‚‹"},{t:"ãƒ‡ãƒªã‚±ãƒ¼ãƒˆ", q:"ğŸ˜Ÿ å¤±æ•—ã™ã‚‹ã“ã¨ã‚’æ€–ãŒã‚Šã€è‡ªä¿¡ãŒãªã„ã¨æŒ‘æˆ¦ã‚’é¿ã‘ã‚‹"},{t:"ãƒ‡ãƒªã‚±ãƒ¼ãƒˆ", q:"ğŸŒ³ åˆã‚ã¦ã®å ´æ‰€ã§ã¯æ…é‡ã«ãªã‚Šã™ãã‚‹"},{t:"ãƒ‡ãƒªã‚±ãƒ¼ãƒˆ", q:"ğŸ’§ èª°ã‹ãŒæ€’ã‚‰ã‚Œã¦ã„ã‚‹ã¨ã€è‡ªåˆ†ã¾ã§æ‚²ã—ããªã‚‹"},
    {t:"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–", q:"ğŸš€ ã˜ã£ã¨ã—ã¦ã„ã‚‹ã‚ˆã‚Šå¸¸ã«å‹•ã„ã¦ã„ã‚‹"},{t:"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–", q:"ğŸ”¥ å¥½å¥‡å¿ƒãŒå‹ã£ã¦å±ãªã„å ´æ‰€ã¸ã‚‚é£›ã³å‡ºã—ã¦ã—ã¾ã†"},{t:"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–", q:"ğŸ“£ è‡ªåˆ†ã®ã‚„ã‚ŠãŸã„ã“ã¨ã‚’å…¨åŠ›ã§ä¸»å¼µã™ã‚‹"},{t:"ã‚¢ã‚¯ãƒ†ã‚£ãƒ–", q:"ğŸƒâ€â™‚ï¸ èˆˆå‘³ã®ã‚ã‚‹ã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‹ã¨å‘¨ã‚ŠãŒè¦‹ãˆãªããªã‚‹"},
    {t:"ã‚¨ãƒ³ã‚¸ã‚§ãƒ«", q:"ğŸŒ¸ äº‰ã„ã”ã¨ã‚’å«Œã„ã€ãŠã‚‚ã¡ã‚ƒã‚’è­²ã£ã¦ã‚ã’ã‚‰ã‚Œã‚‹"},{t:"ã‚¨ãƒ³ã‚¸ã‚§ãƒ«", q:"ğŸ¤ å‘¨ã‚Šã®é›°å›²æ°—ã‚’æ˜ã‚‹ãã—ã€ä»²è‰¯ãã—ã‚ˆã†ã¨ã™ã‚‹"},{t:"ã‚¨ãƒ³ã‚¸ã‚§ãƒ«", q:"ğŸ•Šï¸ ç©ã‚„ã‹ã§ã€ãƒ‹ã‚³ãƒ‹ã‚³ã—ã¦ã„ã‚‹ã“ã¨ãŒå¤šã„"},{t:"ã‚¨ãƒ³ã‚¸ã‚§ãƒ«", q:"ğŸ‚ è‡ªåˆ†ã®æ°—æŒã¡ã‚’æŠ‘ãˆã¦å‘¨ã‚Šã«åˆã‚ã›ã‚ˆã†ã¨ã™ã‚‹"},
    {t:"ãƒ†ã‚­ã‚¹ãƒˆ", q:"â° ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ãŒæ±ºã¾ã£ã¦ã„ãªã„ã¨ä¸å®‰ã«ãªã‚‹"},{t:"ãƒ†ã‚­ã‚¹ãƒˆ", q:"ğŸ“‰ å…·ä½“çš„ãªæ•°å­—ã‚„ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹ã¨å®‰å¿ƒã™ã‚‹"},{t:"ãƒ†ã‚­ã‚¹ãƒˆ", q:"ğŸ“¦ ç‰©ã®é…ç½®ã¸ã®ã“ã ã‚ã‚ŠãŒå¼·ã„"},{t:"ãƒ†ã‚­ã‚¹ãƒˆ", q:"ğŸ“– å›³é‘‘ã‚„æ¨™è­˜ãªã©è¦å‰‡æ€§ã®ã‚ã‚‹ã‚‚ã®ã‚’å¥½ã‚€"},
    {t:"ãƒã‚¬ãƒ†ã‚£ãƒ–", q:"âš¡ æ„Ÿæƒ…ã®çˆ†ç™ºãŒæ¿€ã—ãã€åˆ‡ã‚Šæ›¿ãˆã«æ™‚é–“ãŒã‹ã‹ã‚‹"},{t:"ãƒã‚¬ãƒ†ã‚£ãƒ–", q:"ğŸ’ ç´å¾—ã§ããªã„ã“ã¨ã«ã¯çµ¶å¯¾ã«é¦–ã‚’ç¸¦ã«æŒ¯ã‚‰ãªã„"},{t:"ãƒã‚¬ãƒ†ã‚£ãƒ–", q:"ğŸ˜¤ ã€Œè‡ªåˆ†ãƒ«ãƒ¼ãƒ«ã€ã‚’é‚ªé­”ã•ã‚Œã‚‹ã¨æ¿€ã—ãæ€’ã‚‹"},{t:"ãƒã‚¬ãƒ†ã‚£ãƒ–", q:"ğŸŒªï¸ æ€ã„é€šã‚Šã«ãªã‚‰ãªã„ã¨ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹"}
];

const kaData = [
    {t:"è¦–è¦šæ”¯æ´", q:"ğŸ“¢ è¨€è‘‰ã ã‘ã§è¨€ã‚ã‚Œã¦ã‚‚ã€ã™ãã«å¿˜ã‚Œã¦ã—ã¾ã†"},{t:"è¦–è¦šæ”¯æ´", q:"ğŸ–¼ï¸ å†™çœŸã‚„ã‚¤ãƒ©ã‚¹ãƒˆã®ã»ã†ãŒç†è§£ãŒæ—©ã„"},{t:"è¦–è¦šæ”¯æ´", q:"ğŸ“… äºˆå®šãŒã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§è¦‹ãˆã¦ã„ã‚‹ã¨å‹•ã‘ã‚‹"},{t:"è¦–è¦šæ”¯æ´", q:"ğŸ“ ç‰©ã®å ´æ‰€ãŒãƒ©ãƒ™ãƒ«ã§è¦‹ãˆã‚‹åŒ–ã•ã‚Œã¦ã„ã‚‹ã¨ç‰‡ä»˜ã‘ã‚‰ã‚Œã‚‹"},
    {t:"è´è¦šé…æ…®", q:"ğŸ‘‚ è³‘ã‚„ã‹ãªå ´æ‰€ã§ã¯æ··ä¹±ã—ãŸã‚Šç–²ã‚Œã‚„ã™ã‹ã£ãŸã‚Šã™ã‚‹"},{t:"è´è¦šé…æ…®", q:"ğŸ§ é™ã‹ãªå ´æ‰€ã«è¡Œãã¨ä¸€æ°—ã«è½ã¡ç€ã"},{t:"è´è¦šé…æ…®", q:"ğŸ‘„ è¤‡æ•°ã®æŒ‡ç¤ºã‚’ä¸€åº¦ã«è¨€ã‚ã‚Œã‚‹ã¨ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹"},{t:"è´è¦šé…æ…®", q:"ğŸ”Š ãƒ†ãƒ¬ãƒ“ã®éŸ³é‡ãªã©ã«æ•æ„Ÿã«åå¿œã™ã‚‹"},
    {t:"æ§‹é€ åŒ–", q:"ğŸ§º ç‰‡ä»˜ã‘å ´æ‰€ãŒæ›–æ˜§ã ã¨ãƒ•ãƒªãƒ¼ã‚ºã™ã‚‹"},{t:"æ§‹é€ åŒ–", q:"ğŸªœ ä½œæ¥­ã®æ‰‹é †ã‚’1ã‹ã‚‰é †ã«ç¤ºã—ã¦ã»ã—ã„"},{t:"æ§‹é€ åŒ–", q:"ğŸ¤« è‡ªåˆ†ã ã‘ã®å›²ã‚ã‚ŒãŸç©ºé–“ã‚’å¥½ã‚€"},{t:"æ§‹é€ åŒ–", q:"ğŸ› ï¸ ã€Œä»Šã¯ã“ã‚Œã‚’ã™ã‚‹æ™‚é–“ã€ã¨ã„ã†æ˜ç¢ºãªå¢ƒç•Œã‚’æ¬²ã—ãŒã‚‹"},
    {t:"æ„Ÿè¦šçµ±åˆ", q:"ğŸ‘• ç‰¹å®šã®æ„Ÿè§¦ã‚’æ¥µç«¯ã«å«ŒãŒã£ãŸã‚Šã€é€†ã«æ±‚ã‚ã™ããŸã‚Šã™ã‚‹"},{t:"æ„Ÿè¦šçµ±åˆ", q:"ğŸŒ€ ãƒ–ãƒ©ãƒ³ã‚³ã‚„å›è»¢ãªã©ã€æ¿€ã—ã„æºã‚Œã‚’å¥½ã‚€"},{t:"æ„Ÿè¦šçµ±åˆ", q:"ğŸ§¸ ãã‚…ã£ã¨æŠ±ãã—ã‚ã‚‰ã‚Œã‚‹ï¼ˆåœ§è¿«ï¼‰ã‚’å¥½ã‚€"},{t:"æ„Ÿè¦šçµ±åˆ", q:"ğŸ¦¶ ã¤ã¾å…ˆç«‹ã¡ã‚„ä½“ã‚’æºã‚‰ã™å‹•ããŒå¤šã„"},
    {t:"å®Ÿè¡Œæ©Ÿèƒ½", q:"â¸ï¸ æ¬¡ã®è¡Œå‹•ã¸ã®åˆ‡ã‚Šæ›¿ãˆã«ã¨ã¦ã‚‚æ™‚é–“ãŒã‹ã‹ã‚‹"},{t:"å®Ÿè¡Œæ©Ÿèƒ½", q:"ğŸ“ å¿˜ã‚Œç‰©ã‚„å¤±ãã—ç‰©ã‚’é »ç¹ã«ç¹°ã‚Šè¿”ã™"},{t:"å®Ÿè¡Œæ©Ÿèƒ½", q:"â³ æ™‚é–“ã®æ„Ÿè¦šã‚’æ´ã‚€ã®ãŒé›£ã—ãã€ã„ã¤ã‚‚æ€¥ã‹ã•ã‚Œã‚‹"},{t:"å®Ÿè¡Œæ©Ÿèƒ½", q:"ğŸ’ æº–å‚™ã®æ®µå–ã‚ŠãŒã‚ã‹ã‚‰ãªããªã‚‹"}
];

const miDetails = {
    "è¨€èª": {èƒ½åŠ›:"è¨€è‘‰ã‚’ç´¡ãã€æƒ³ã„ã‚’å½¢ã«ã™ã‚‹åŠ›", åˆ†æ:"ã€è¡Œå‹•ã€‘èªå½™ãŒè±Šå¯Œã§ã€è¨€è‘‰éŠã³ã‚„ç‰©èªä½œã‚Šã‚’å¥½ã¿ã¾ã™ã€‚ã€åˆ†æã€‘è´è¦šçš„ãƒ»è¨€èªçš„ãªæƒ…å ±å‡¦ç†ã«å„ªã‚Œã€æ–‡è„ˆã‚’æ‰ãˆã‚‹åŠ›ãŒéå¸¸ã«é«˜ã„çŠ¶æ…‹ã§ã™ã€‚ã€è§£é‡ˆã€‘è¨€è‘‰ã‚’é€šã˜ãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã€ã“ã®å­ã«ã¨ã£ã¦æœ€å¤§ã®å®‰å¿ƒã¨è‡ªå·±è‚¯å®šã®æºã«ãªã‚Šã¾ã™ã€‚ã€ç¿»è¨³ã€‘å„ªã‚ŒãŸè¡¨ç¾è€…ã§ã‚ã‚Šã€å¯¾è©±ã«ã‚ˆã£ã¦ä¸–ç•Œã‚’ç†è§£ã—ã¦ã„ãçŸ¥æ€§ã®æŒã¡ä¸»ã§ã™ã€‚", é ¼ã‚‹äºº:"ãŠå–‹ã‚Šã‚’æ¥½ã—ã‚“ã§ãã‚Œã‚‹äºº"},
    "è«–ç†": {èƒ½åŠ›:"æ··æ²Œã‹ã‚‰æ³•å‰‡ã‚’è¦‹ã¤ã‘å‡ºã—ã€ç­‹é“ã‚’ç«‹ã¦ã‚‹åŠ›", åˆ†æ:"ã€è¡Œå‹•ã€‘ãƒ‘ã‚ºãƒ«ã‚„æ•°å­—ã«æ²¡é ­ã—ã€ã€Œãªãœï¼Ÿã€ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚ã€åˆ†æã€‘è«–ç†çš„æ•´åˆæ€§ã‚’é‡è¦–ã—ã€å› æœé–¢ä¿‚ã‚’æŠŠæ¡ã™ã‚‹åŠ›ãŒå“è¶Šã—ã¦ã„ã¾ã™ã€‚ã€è§£é‡ˆã€‘ç†ç”±ãŒç´å¾—ã§ãã‚Œã°ã€å¤§äººãŒé©šãã»ã©ã®é›†ä¸­åŠ›ã¨è‡ªå·±æŠ‘åˆ¶ã‚’ç™ºæ®ã—ã¾ã™ã€‚ã€ç¿»è¨³ã€‘æœªçŸ¥ã®äº‹è±¡ã«ç§©åºã‚’ä¸ãˆã‚‹ã€æœªæ¥ã®ç§‘å­¦è€…ãƒ»æˆ¦ç•¥å®¶çš„ãªè³‡è³ªã‚’æŒã£ã¦ã„ã¾ã™ã€‚", é ¼ã‚‹äºº:"æ ¹æ°—ã‚ˆãä»•çµ„ã¿ã‚’æ•™ãˆã¦ãã‚Œã‚‹äºº"},
    "ç©ºé–“": {èƒ½åŠ›:"ä¸–ç•Œã‚’ç«‹ä½“çš„ã«æ‰ãˆã€ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å½¢ã«ã™ã‚‹åŠ›", åˆ†æ:"ã€è¡Œå‹•ã€‘å·¥ä½œã‚„ãƒ–ãƒ­ãƒƒã‚¯ã«ç†±ä¸­ã—ã€åœ°å›³ã‚„å›³è§£ã‚’å¥½ã¿ã¾ã™ã€‚ã€åˆ†æã€‘è¦–è¦šçš„ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¿æŒåŠ›ãŒé«˜ãã€é ­ã®ä¸­ã§ä¸‰æ¬¡å…ƒçš„ã«æ§‹æˆã™ã‚‹åŠ›ãŒå¼·ã„ã§ã™ã€‚ã€è§£é‡ˆã€‘è¨€è‘‰ã«ã‚ˆã‚‹é•·æ™‚é–“ã®æŒ‡ç¤ºã‚ˆã‚Šã‚‚ã€å›³è§£ã‚„è¦‹æœ¬ã‚’è¦‹ã‚‹ã»ã†ãŒæƒ…å ±ã®æ•´ç†ãŒã‚¹ãƒ ãƒ¼ã‚ºã§ã™ã€‚ã€ç¿»è¨³ã€‘é ­ã®ä¸­ã«ç‹¬è‡ªã®åºƒå¤§ãªè¨­è¨ˆå›³ã‚’æŒã¤ã€ãƒ“ã‚¸ãƒ§ãƒŠãƒªãƒ¼ãªå‰µé€ è€…ã§ã™ã€‚", é ¼ã‚‹äºº:"å·¥ä½œã‚„ã‚¢ãƒ¼ãƒˆã«ä»˜ãåˆãˆã‚‹å¤§äºº"},
    "èº«ä½“": {èƒ½åŠ›:"è‡ªåˆ†ã®ä½“ã¨å¯¾è©±ã—ã€å™¨ç”¨ã«ä½¿ã„ã“ãªã™åŠ›", åˆ†æ:"ã€è¡Œå‹•ã€‘å¸¸ã«ä½“ã‚’å‹•ã‹ã—ã€æ‰‹å…ˆã‚’ä½¿ã£ãŸä½œæ¥­ã«æ²¡é ­ã—ã¾ã™ã€‚ã€åˆ†æã€‘é‹å‹•æ„Ÿè¦šã«ã‚ˆã‚‹å­¦ç¿’åŠ¹ç‡ãŒéå¸¸ã«é«˜ãã€ä½“é¨“ã‚’é€šã˜ã¦æƒ…å ±ã‚’è„³ã«å–ã‚Šè¾¼ã¿ã¾ã™ã€‚ã€è§£é‡ˆã€‘å‹•ãã“ã¨ã¯è½ã¡ç€ããŒãªã„ã®ã§ã¯ãªãã€è„³ã‚’æ´»æ€§åŒ–ã•ã›ã€å‘¨å›²ã‚’ç†è§£ã™ã‚‹ãŸã‚ã®æ‰‹æ®µã§ã™ã€‚ã€ç¿»è¨³ã€‘å…¨èº«ã‚’ã‚¢ãƒ³ãƒ†ãƒŠã«ã—ã¦ä¸–ç•Œã‚’æ„Ÿã˜å–ã‚‹ã€èº«ä½“çš„çŸ¥æ€§ã®é”äººã§ã™ã€‚", é ¼ã‚‹äºº:"ä¸€ç·’ã«æ´»å‹•ã‚’æ¥½ã—ã‚ã‚‹ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªäºº"},
    "éŸ³æ¥½": {èƒ½åŠ›:"éŸ³ã®æ©Ÿå¾®ã‚’æ„Ÿã˜å–ã‚Šã€ãƒªã‚ºãƒ ã§ä¸–ç•Œã‚’æ‰ãˆã‚‹åŠ›", åˆ†æ:"ã€è¡Œå‹•ã€‘éŸ³ã«æ•æ„Ÿã§ã€ãƒªã‚ºãƒ ã«ä¹—ã£ãŸã‚Šæ­Œã£ãŸã‚Šã™ã‚‹ã“ã¨ã‚’å¥½ã¿ã¾ã™ã€‚ã€åˆ†æã€‘è´è¦šçš„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è­˜åˆ¥èƒ½åŠ›ãŒé«˜ãã€éŸ³ã®ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã‹ã‚‰ä»–è€…ã®æ„Ÿæƒ…ã‚’å¯Ÿã™ã‚‹åŠ›ã‚‚å¼·ã„ã§ã™ã€‚ã€è§£é‡ˆã€‘éŸ³æ¥½ã‚„ãƒªã‚ºãƒ ãŒã€è„³å†…ã®æƒ…å ±ã®æ•´ç†ã‚„æ„Ÿæƒ…ã®å®‰å®šã«ç›´çµã—ã¦ã„ã¾ã™ã€‚ã€ç¿»è¨³ã€‘ä¸–ç•Œã®éŸ¿ãã«è€³ã‚’æ¾„ã¾ã›ã€ãƒªã‚ºãƒ ã§ç§©åºã‚’ä¿ã¤èª¿å¾‹è€…çš„ãªæ„Ÿæ€§ã®æŒã¡ä¸»ã§ã™ã€‚", é ¼ã‚‹äºº:"éŸ³æ¥½ã‚„éŸ³ã‚’æ¥½ã—ã‚ã‚‹äºº"},
    "å¯¾äºº": {èƒ½åŠ›:"äººã®å¿ƒã«æ©‹ã‚’ã‹ã‘ã€èª¿å’Œã‚’ç”Ÿã¿å‡ºã™åŠ›", åˆ†æ:"ã€è¡Œå‹•ã€‘å‹é”ã®æ§˜å­ã«æ•æ„Ÿã§ã€é›†å›£ã®ä¸­ã§ã®å½¹å‰²ã‚’å¥½ã¿ã¾ã™ã€‚ã€åˆ†æã€‘ä»–è€…ã®æ„Ÿæƒ…ã‚„æ„å›³ã‚’èª­ã¿å–ã‚‹ç¤¾ä¼šçš„ãªã‚»ãƒ³ã‚µãƒ¼ãŒéå¸¸ã«é‹­ãç™ºé”ã—ã¦ã„ã¾ã™ã€‚ã€è§£é‡ˆã€‘ä»–è€…ã¸ã®è²¢çŒ®ã‚„ç¹‹ãŒã‚Šã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã€ã“ã®å­ã«ã¨ã£ã¦æœ€å¤§ã®æ„æ¬²ï¼ˆãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã«ãªã‚Šã¾ã™ã€‚ã€ç¿»è¨³ã€‘å ´ã‚’å’Œã¾ã›ã€äººã¨äººã‚’çµã³ã¤ã‘ã‚‹ã€å…±æ„ŸåŠ›ã®ãƒªãƒ¼ãƒ€ãƒ¼è³‡è³ªã‚’æŒã£ã¦ã„ã¾ã™ã€‚", é ¼ã‚‹äºº:"è©±ã‚’ä¸å¯§ã«èã„ã¦ãã‚Œã‚‹äºº"},
    "å†…çœ": {èƒ½åŠ›:"è‡ªåˆ†è‡ªèº«ã‚’è¦‹ã¤ã‚ã€æŠ˜ã‚Œãªã„èŠ¯ã‚’ä½œã‚‹åŠ›", åˆ†æ:"ã€è¡Œå‹•ã€‘ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã¨å¼·ã„æ„å¿—ã‚’è²«ãã¾ã™ã€‚ã€åˆ†æã€‘è‡ªå·±å®¢è¦³è¦–ï¼ˆãƒ¡ã‚¿èªçŸ¥ï¼‰èƒ½åŠ›ãŒé«˜ãã€è‡ªåˆ†ã®å†…é¢ã‚’æ·±ãæ˜ã‚Šä¸‹ã’ã‚‹åŠ›ãŒå„ªã‚Œã¦ã„ã¾ã™ã€‚ã€è§£é‡ˆã€‘ä¸€äººã®æ™‚é–“ã¯ã€Œå……é›»ã€ã§ã‚ã‚Šã€è‡ªåˆ†ã‚’æ•´ç†ã—ã¦å†ã³å¤–ã®ä¸–ç•Œã¸å‘ã‹ã†ãŸã‚ã«ä¸å¯æ¬ ãªå„€å¼ã§ã™ã€‚ã€ç¿»è¨³ã€‘æ·±ã„æ´å¯Ÿã«åŸºã¥ãã€è‡ªåˆ†è»¸ã‚’ã—ã£ã‹ã‚ŠæŒã¤å“²å­¦çš„ãªæ¢ç©¶è€…ã§ã™ã€‚", é ¼ã‚‹äºº:"å¹²æ¸‰ã›ãšè¦‹å®ˆã£ã¦ãã‚Œã‚‹å¤§äºº"},
    "åšç‰©": {èƒ½åŠ›:"ä¸–ç•Œã®ç´°ã‹ãªé•ã„ã‚’è¦‹æ¥µã‚ã€åˆ†é¡ã™ã‚‹æ¢ç©¶å¿ƒ", åˆ†æ:"ã€è¡Œå‹•ã€‘ç‰¹å®šã®ã‚¸ãƒ£ãƒ³ãƒ«ã‚’åé›†ãƒ»åˆ†é¡ã—ã€å¾®ç´°ãªé•ã„ã«æ°—ã¥ãã¾ã™ã€‚ã€åˆ†æã€‘é«˜åº¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜èƒ½åŠ›ã¨åˆ†é¡èƒ½åŠ›ã‚’å‚™ãˆã€ç’°å¢ƒã®å¤‰åŒ–ã‚’é‹­ãæ‰ãˆã¾ã™ã€‚ã€è§£é‡ˆã€‘å¥½ããªå¯¾è±¡ã‚’å¾¹åº•çš„ã«æ˜ã‚Šä¸‹ã’ã‚‹ã“ã¨ã§ã€ä¸–ç•Œã®æ³•å‰‡æ€§ã‚’å­¦ã‚“ã§ã„ã¾ã™ã€‚ã€ç¿»è¨³ã€‘å¤šæ§˜ãªä¸–ç•Œã‚’æ•´ç†ã—ã€æ–°ã—ã„ä¾¡å€¤ã‚„ç™ºè¦‹ã‚’è¦‹å‡ºã™è¦³å¯Ÿã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã§ã™ã€‚", é ¼ã‚‹äºº:"ã“ã ã‚ã‚Šã‚’è‚¯å®šã—ã¦ãã‚Œã‚‹å°‚é–€å®¶æ°—è³ªãªäºº"}
};

const kaDetails = {
    "è¦–è¦šæ”¯æ´": {æ‰‹ç«‹ã¦:"çµµã‚«ãƒ¼ãƒ‰ã€å†™çœŸã€ã‚¿ã‚¤ãƒãƒ¼ã€ãƒ©ãƒ™ãƒ«ã€ãƒªã‚¹ãƒˆ", åˆ†æ:"ã€è¡Œå‹•ã€‘å£é ­æŒ‡ç¤ºã‚’ã™ãå¿˜ã‚Œã€åŒã˜ã“ã¨ã‚’ä½•åº¦ã‚‚èãã¾ã™ã€‚ã€åˆ†æã€‘è´è¦šæƒ…å ±ã‚’ä¸€æ™‚çš„ã«ä¿æŒã™ã‚‹åŠ›ãŒå¼±ãã€è¨€è‘‰ãŒã€Œå³ã‹ã‚‰å·¦ã¸ã€æµã‚Œã¦ã—ã¾ã†çŠ¶æ…‹ã§ã™ã€‚ã€è§£é‡ˆã€‘æ„å›³çš„ãªç„¡è¦–ã§ã¯ãªãã€æƒ…å ±ã®æ¬ è½ãŒèµ·ãã¦ã„ã‚‹ã ã‘ã§ã™ã€‚ç›®ã«è¦‹ãˆã‚‹å½¢ã«ã™ã‚‹ã“ã¨ã§ã€è„³ã®ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªã‚’åŠ©ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã€åˆ¤æ–­åŸºæº–ã€‘ä¸å¿«ã‚’å–ã‚Šé™¤ããŸã‚ã€å¸¸ã«è¦–è¦šæƒ…å ±ã‚’æ·»ãˆã¦ãã ã•ã„ã€‚ã“ã‚Œã¯ç”˜ã‚„ã‹ã—ã§ã¯ãªãã€çœ¼é¡ã‚’æ¸¡ã™ã®ã¨åŒã˜ã€Œé©åˆ‡ãªè£œåŠ©ã€ã§ã™ã€‚", å£°ã‹ã‘:"ã€Œã“ã‚Œã‚’è¦‹ã¦ã­ã€ã¨æ³¨ç›®ã•ã›ã¦ã‹ã‚‰ã€‚"},
    "è´è¦šé…æ…®": {æ‰‹ç«‹ã¦:"ã‚¤ãƒ¤ãƒ¼ãƒãƒ•ã€é™ã‹ãªé¿é›£å ´æ‰€ã€çŸ­æ–‡æŒ‡ç¤ºã€ç’°å¢ƒéŸ³ã®ã‚«ãƒƒãƒˆ", åˆ†æ:"ã€è¡Œå‹•ã€‘é¨’ãŒã—ã„å ´æ‰€ã§ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹ã‹ã€é€†ã«ã²ã©ãç„¡æ°—åŠ›ã«ãªã‚Šã¾ã™ã€‚ã€åˆ†æã€‘è´è¦šéæ•ãŒã‚ã‚Šã€èƒŒæ™¯éŸ³ã¨é‡è¦ãªå£°ã‚’åˆ†é›¢ã—ã¦å‡¦ç†ã™ã‚‹ã“ã¨ãŒå›°é›£ãªçŠ¶æ…‹ã§ã™ã€‚ã€è§£é‡ˆã€‘è„³ãŒæƒ…å ±ã®æ´ªæ°´ã§å¸¸ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ’ãƒ¼ãƒˆã—ã€ç”Ÿå‘½ã®å±é™ºã™ã‚‰æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã€åˆ¤æ–­åŸºæº–ã€‘ã¾ãšã¯ã€Œä¸å¿«ã®é™¤å»ã€ã‚’æœ€å„ªå…ˆã—ã¦ãã ã•ã„ã€‚ç„¡ç†ã«è€ãˆã•ã›ã‚‹ã“ã¨ã¯ã€è„³ã«æ…¢æ€§çš„ãªãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚å®‰å¿ƒãŒç¢ºä¿ã§ãã¦ã‹ã‚‰ç·´ç¿’ã‚’ã€‚", å£°ã‹ã‘:"ä¸€å¯¾ä¸€ã§ã€é¨’éŸ³ã®ãªã„å ´æ‰€ã§çŸ­ãã€‚"},
    "æ§‹é€ åŒ–": {æ‰‹ç«‹ã¦:"ãƒ©ãƒ™ãƒ«è²¼ã‚Šã€å®¶å…·ã®é…ç½®ã«ã‚ˆã‚‹ç©ºé–“ã®åŒºåˆ†ã€æ‰‹é †ã®å¯è¦–åŒ–", åˆ†æ:"ã€è¡Œå‹•ã€‘ç‰‡ä»˜ã‘ãŒã§ããšã€ä½•ã‚’ã™ã¹ãã‹åˆ†ã‹ã‚‰ãšãƒ•ãƒªãƒ¼ã‚ºã—ã¾ã™ã€‚ã€åˆ†æã€‘ç©ºé–“ã‚„æ™‚é–“ã®å¢ƒç•Œç·šãŒæ›–æ˜§ã§ã€è„³å†…ãŒå¸¸ã«ã€Œæ•£ã‚‰ã‹ã£ãŸéƒ¨å±‹ã€ã®ã‚ˆã†ãªçŠ¶æ…‹ã§ã™ã€‚ã€è§£é‡ˆã€‘æ•´ç†ã•ã‚ŒãŸç’°å¢ƒï¼ˆæ§‹é€ ï¼‰ã“ããŒã€ã“ã®å­ã«ã¨ã£ã¦ã®ã€Œåœ°å›³ã€ã«ãªã‚Šã¾ã™ã€‚ã€åˆ¤æ–­åŸºæº–ã€‘è‡ªç«‹ã‚’ä¿ƒã™ãŸã‚ã«ç’°å¢ƒã‚’æ•´ãˆã¦ãã ã•ã„ã€‚æ§‹é€ ãŒã‚ã‚Œã°è‡ªåˆ†ä¸€äººã§å‹•ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚è€ãˆã‚‹ç·´ç¿’ã§ã¯ãªãã€æˆåŠŸã®ãŸã‚ã®ã‚¤ãƒ³ãƒ•ãƒ©ã§ã™ã€‚", å£°ã‹ã‘:"ã€Œã¾ãšã¯1ç•ªã®ç®±ã‚’ç½®ã„ã¦ã­ã€ã¨ã‚¹ãƒ†ãƒƒãƒ—ã‚’çµã£ã¦ã€‚"},
    "æ„Ÿè¦šçµ±åˆ": {æ‰‹ç«‹ã¦:"ãƒ–ãƒ©ãƒ³ã‚³ã€é‡ã„å¸ƒå›£ã€é©åº¦ãªåœ§è¿«ã€æ„Ÿè§¦éŠã³", åˆ†æ:"ã€è¡Œå‹•ã€‘è½ã¡ç€ããªãå‹•ãã€ã¾ãŸã¯ç‰¹å®šã®åˆºæ¿€ã‚’æ¿€ã—ãé¿ã‘ã¾ã™ã€‚ã€åˆ†æã€‘è„³ã«å±Šãæ„Ÿè¦šã®å¼·å¼±ãŒä¸å®‰å®šã§ã€è‡ªåˆ†ã®ä½“ã®å¢ƒç•Œç·šãŒæ´ã¿ãã‚Œã¦ã„ãªã„çŠ¶æ…‹ã§ã™ã€‚ã€è§£é‡ˆã€‘æ¿€ã—ãå‹•ãã®ã¯ã€è‡ªåˆ†ã®ä½“ã®å­˜åœ¨ã‚’ç¢ºèªã—ã¦å®‰å¿ƒæ„Ÿã‚’å¾—ã‚ˆã†ã¨ã™ã‚‹å¿…æ­»ã®è©¦ã¿ã§ã™ã€‚ã€åˆ¤æ–­åŸºæº–ã€‘ã¾ãšã¯æ„Ÿè¦šã‚’æº€ãŸã™ï¼ˆæ„Ÿè¦šã®é£Ÿäº‹ï¼‰ã‚’å„ªå…ˆã—ã¦ãã ã•ã„ã€‚å¤§å¥½ããªæ„Ÿè¦šåˆºæ¿€ã‚’ã€Œã”è¤’ç¾ã€ã§ã¯ãªãã€Œèª¿æ•´ã®æ‰‹æ®µã€ã¨ã—ã¦æ—¥å¸¸ã«å–ã‚Šå…¥ã‚Œã¾ã—ã‚‡ã†ã€‚", å£°ã‹ã‘:"ä¸å¿«ãªåˆºæ¿€ã‚’é¿ã‘ã€å®‰å¿ƒã™ã‚‹æ„Ÿè¦šã‚’ã€‚"},
    "å®Ÿè¡Œæ©Ÿèƒ½": {æ‰‹ç«‹ã¦:"TODOãƒªã‚¹ãƒˆã€ã‚¢ãƒ©ãƒ¼ãƒ ã€5åˆ†å‰äºˆå‘Šã€æ‰‹é †è¡¨", åˆ†æ:"ã€è¡Œå‹•ã€‘å¿˜ã‚Œç‰©ãŒå¤šãã€äºˆå®šã®åˆ‡ã‚Šæ›¿ãˆã§æ¿€ã—ãæŠµæŠ—ã—ã¾ã™ã€‚ã€åˆ†æã€‘æ®µå–ã‚Šã‚’çµ„ã¿ã€æ„Ÿæƒ…ã‚’æŠ‘åˆ¶ã—ã¦æ¬¡ã®è¡Œå‹•ã«ç§»ã‚‹ã€Œè„³ã®å¸ä»¤å¡”ã€ãŒã‚†ã£ãã‚Šç™ºé”ã—ã¦ã„ã¾ã™ã€‚ã€è§£é‡ˆã€‘åˆ‡ã‚Šæ›¿ãˆã®è‹¦ã—ã•ã¯ã€Œã“ã ã‚ã‚Šã€ã§ã¯ãªãã€è„³ã®ãƒ–ãƒ¬ãƒ¼ã‚­ãŒåŠ¹ãã«ãã„çŠ¶æ…‹ã§ã™ã€‚ã€åˆ¤æ–­åŸºæº–ã€‘å¤–ä»˜ã‘ã®å¸ä»¤å¡”ï¼ˆã‚¿ã‚¤ãƒãƒ¼ã‚„ãƒªã‚¹ãƒˆï¼‰ã‚’ç”¨æ„ã—ã¦ãã ã•ã„ã€‚è„³ã®æˆç†Ÿã‚’å¾…ã¤é–“ã€å·¥å¤«ã§è£œã†ã“ã¨ãŒã€è¦ªå­å…±å€’ã‚Œã‚’é˜²ãé“ã§ã™ã€‚", å£°ã‹ã‘:"ã€Œã‚ã¨3åˆ†ã§çµ‚ã‚ã‚Šã€ã¨å…·ä½“çš„ã«ã€‚"}
};

const kiDetails = {
    "ãƒ‡ãƒªã‚±ãƒ¼ãƒˆ": {å›°ã‚Š:"æ–°ã—ã„ç’°å¢ƒã§å›ºã¾ã‚‹ã€å¤‰åŒ–ã‚’å«Œã†", ç¿»è¨³:"ã€Œå®‰å…¨ã‹ã©ã†ã‹ã€ã‚’èª°ã‚ˆã‚Šã‚‚æ…é‡ã«ç¢ºèªã—ã¦ã„ã‚‹è±Šã‹ãªæ„Ÿå—æ€§", å¯¾å¿œ:"ã€Œæ€–ã„ã‚ˆã­ã€è¦‹ã¦ã‚‹ã‹ã‚‰å¤§ä¸ˆå¤«ã€ã¨äºˆå‘Šã¨å®‰å¿ƒã‚’ã‚»ãƒƒãƒˆã«ã€‚"},
    "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–": {å›°ã‚Š:"è¡å‹•çš„ã«é£›ã³å‡ºã™ã€è©±ã‚’èã‹ãšã«å‹•ã", ç¿»è¨³:"ã€Œæº¢ã‚Œã‚‹å¥½å¥‡å¿ƒã€ã¨ã€ä¸–ç•Œã‚’çŸ¥ã‚ŠãŸã„ã¨ã„ã†çˆ†ç™ºçš„ãªç”Ÿå‘½åŠ›", å¯¾å¿œ:"ç‰©ç†çš„ãªç’°å¢ƒæ•´å‚™ï¼ˆéµã‚„æŸµï¼‰ã¨äº‹å‰ã®ç´„æŸã‚’ã€‚"},
    "ã‚¨ãƒ³ã‚¸ã‚§ãƒ«": {å›°ã‚Š:"è‡ªåˆ†ã®æ„è¦‹ã‚’è¨€ã‚ãªã„ã€å‘¨ã‚Šã«åˆã‚ã›ã™ãã‚‹", ç¿»è¨³:"ã€Œå ´ã®å¹³å’Œã€ã‚’å®ˆã‚‹ã“ã¨ã‚’æœ€å„ªå…ˆã«ã§ãã‚‹ç¨€æœ‰ãªå„ªã—ã•", å¯¾å¿œ:"ã€Œã‚ãªãŸã¯ã©ã†ã—ãŸã„ï¼Ÿã€ã¨æœ¬éŸ³ã‚’æ‹¾ã†æ™‚é–“ã‚’ã€‚"},
    "ãƒ†ã‚­ã‚¹ãƒˆ": {å›°ã‚Š:"äºˆå®šå¤‰æ›´ã§ãƒ‘ãƒ‹ãƒƒã‚¯ã€æ‰‹é †ã¸ã®ã“ã ã‚ã‚Š", ç¿»è¨³:"ã€Œç§©åºã€ã¨ã€Œè¦‹é€šã—ã€ã®ä¸­ã«å®‰å¿ƒã‚’è¦‹å‡ºã™ã€è«–ç†æ€è€ƒã®èŠ½", å¯¾å¿œ:"æ—©ã‚ã®äºˆå‘Šã‚’å¾¹åº•ã€‚è¦–è¦šæƒ…å ±ã§è¦‹ã›ã‚‹ã¨å®‰å¿ƒã—ã¾ã™ã€‚"},
    "ãƒã‚¬ãƒ†ã‚£ãƒ–": {å›°ã‚Š:"æ¿€ã—ã„ã‚¤ãƒ¤ã‚¤ãƒ¤ã€ç´å¾—ã—ãªã„ã¨å‹•ã‹ãªã„", ç¿»è¨³:"ã€Œè‡ªåˆ†ã®é¡˜ã„ã€ã‚’å¦¥å”ã›ãšè¿½æ±‚ã™ã‚‹ã€å¼·ã„ç²¾ç¥çš„è‡ªç«‹å¿ƒ", å¯¾å¿œ:"ä¸€åº¦ã€Œæ‚”ã—ã‹ã£ãŸã­ã€ã¨æ„Ÿæƒ…ã‚’å—ã‘ã¦ã‹ã‚‰äº¤æ¸‰ã¸ã€‚"}
};

function autoScroll(el) { 
    const b = el.closest('.q-block').nextElementSibling; 
    if (b && b.classList.contains('q-block')) setTimeout(() => b.scrollIntoView({ behavior: 'smooth', block: 'center' }), 300); 
}
function create5Scale(name) { 
    return `<div class="radio-group">${['ã‚ˆã<br>ã‚ã¦ã¯ã¾ã‚‹','ã‚ã¦ã¯ã¾ã‚‹','ã‚ã‹ã‚‰<br>ãªã„','ã‚ã¾ã‚Š<br>ã‚ã¦ã¯ã¾ã‚‰ãªã„','ã‚ã¦ã¯ã¾<br>ã‚‰ãªã„'].map((l,i)=>`<label class="radio-label"><input type="radio" name="${name}" value="${4-i}" onclick="autoScroll(this)">${l}</label>`).join('')}</div>`; 
}

function setup() {
    [['mi', miData], ['ki', kiData], ['ka', kaData]].forEach(([id, data]) => {
        const target = document.getElementById(id+'-q');
        data.forEach((d,i)=> target.innerHTML += `<div class="q-block"><span class="q-text">${i+1}. ${d.q}</span>${create5Scale(id+i)}</div>`);
    });
}
setup();

let results = { mi:null, ki:null, ka:null };

function calcMI() {
    let scores = {}; miData.forEach((d,i) => scores[d.c] = (scores[d.c] || 0) + parseInt(document.querySelector(`input[name="mi${i}"]:checked`)?.value || 0));
    results.mi = scores; showMiChart(scores);
    const top = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
    const d = miDetails[top];
    document.getElementById('mi-res').innerHTML = `<h3>ğŸŒŸ å¼·ã¿ï¼š${top}çš„çŸ¥èƒ½</h3><div class="analysis-card"><span class="analysis-label">ã€èƒ½åŠ›ã€‘</span><span class="analysis-text">${d.èƒ½åŠ›}</span><span class="analysis-label">ã€æ·±å±¤åˆ†æã€‘</span><span class="analysis-text">${d.åˆ†æ}</span><span class="analysis-label">ã€å¿œæ´è€…ã€‘</span><span class="analysis-text">${d.é ¼ã‚‹äºº}</span></div>`;
    document.getElementById('mi-res').style.display = 'block'; checkReady();
}

function showMiChart(scores) {
    const ctx = document.getElementById('miChart').getContext('2d');
    if(window.miRadar) window.miRadar.destroy();
    window.miRadar = new Chart(ctx, { type:'radar', data:{ labels:Object.keys(miDetails), datasets:[{ label:'ãƒãƒ©ãƒ³ã‚¹', data: Object.keys(miDetails).map(l=>scores[l]||0), backgroundColor:'rgba(255,127,127,0.2)', borderColor: '#ff7f7f', borderWidth:2 }]}, options:{ scales:{ r:{ min:0, max:12, ticks:{ display:false }}} }});
}

function calcKi() {
    let scores = {}; kiData.forEach((d,i) => scores[d.t] = (scores[d.t] || 0) + parseInt(document.querySelector(`input[name="ki${i}"]:checked`)?.value || 0));
    const sorted = Object.keys(scores).sort((a,b) => scores[b] - scores[a]);
    const top1 = sorted[0]; const top2 = sorted[1];
    const isHybrid = (scores[top1] - scores[top2] <= 2);
    results.ki = { type: top1, type2: isHybrid ? top2 : null, detail: kiDetails[top1], detail2: isHybrid ? kiDetails[top2] : null };
    let resText = isHybrid ? `<h3>ğŸŒˆ æ°—è³ªï¼š${top1} Ã— ${top2} ã‚¿ã‚¤ãƒ—</h3>` : `<h3>ğŸŒˆ æ°—è³ªï¼š${top1}ã‚¿ã‚¤ãƒ—</h3>`;
    resText += `<div class="analysis-card"><span class="analysis-label">ã€ç¿»è¨³ã€‘</span><span class="analysis-text">${results.ki.detail.ç¿»è¨³}${isHybrid ? ' ï¼† ' + results.ki.detail2.ç¿»è¨³ : ''}</span><span class="analysis-label">ã€å¯¾å¿œã€‘</span><span class="analysis-text">${results.ki.detail.å¯¾å¿œ}</span></div>`;
    document.getElementById('ki-res').innerHTML = resText;
    document.getElementById('ki-res').style.display = 'block'; checkReady();
}

function calcKa() {
    let scores = {}; kaData.forEach((d,i) => scores[d.t] = (scores[d.t] || 0) + parseInt(document.querySelector(`input[name="ka${i}"]:checked`)?.value || 0));
    const top = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
    results.ka = { type: top, detail: kaDetails[top] };
    document.getElementById('ka-res').innerHTML = `<h3>ğŸ  ç’°å¢ƒï¼š${top}ã¸ã®é…æ…®</h3><div class="analysis-card"><span class="analysis-label">ã€æ‰‹ç«‹ã¦ã€‘</span><span class="analysis-text">${kaDetails[top].æ‰‹ç«‹ã¦}</span><span class="analysis-label">ã€åˆ†æãƒ»åˆ¤æ–­åŸºæº–ã€‘</span><span class="analysis-text">${kaDetails[top].åˆ†æ}<br><br><strong>ğŸ’¡ åˆ¤æ–­åŸºæº–ï¼š</strong>${kaDetails[top].åˆ¤æ–­åŸºæº–}</span></div>`;
    document.getElementById('ka-res').style.display = 'block'; checkReady();
}

function checkReady() { 
    if(results.mi && results.ki && results.ka) {
        document.querySelectorAll('button[data-tab="total"]').forEach(b => b.disabled = false);
    }
}

function generateTotalDiagnosis() {
    if (!results.mi || !results.ki || !results.ka) return;
    const miTop = Object.keys(results.mi).reduce((a, b) => results.mi[a] > results.mi[b] ? a : b);
    const kiTitle = results.ki.type2 ? `${results.ki.type} Ã— ${results.ki.type2}` : results.ki.type;
    const komariText = results.ki.type2 ? `${results.ki.detail.å›°ã‚Š}ã‚„ã€${results.ki.detail2.å›°ã‚Š}` : results.ki.detail.å›°ã‚Š;
    const honyakuText = results.ki.type2 ? `${results.ki.detail.ç¿»è¨³}ã¨ã€${results.ki.detail2.ç¿»è¨³}` : results.ki.detail.ç¿»è¨³;
    const kaHandan = results.ka.detail.åˆ¤æ–­åŸºæº– || "ç‰¹æ€§ã«åˆã‚ã›ãŸç’°å¢ƒèª¿æ•´";

    const summaryHtml = `
        <div style="margin-bottom:20px; border-left:8px solid var(--mi-color); padding-left:15px;">
            <strong style="font-size:1.2rem;">å¼·ã¿ï¼š${miTop}çš„çŸ¥èƒ½</strong><br>
            <span style="font-size:0.95rem;">${miDetails[miTop].åˆ†æ}</span>
        </div>
        <div style="margin-bottom:20px; border-left:8px solid var(--ki-color); padding-left:15px;">
            <strong style="font-size:1.2rem;">æ°—è³ªï¼š${kiTitle}ã‚¿ã‚¤ãƒ—</strong><br>
            <span style="font-size:0.95rem;">ã€Œã‚ãŒã¾ã¾ã€ã§ã¯ãªãã€Œ${honyakuText}ã€ã¨ã„ã†ç´ æ™´ã‚‰ã—ã„è³‡è³ªã®ç¾ã‚Œã§ã™ã€‚</span>
        </div>
        <div style="margin-bottom:20px; border-left:8px solid var(--ka-color); padding-left:15px;">
            <strong style="font-size:1.2rem;">ç’°å¢ƒï¼š${results.ka.type}ã®ã‚µãƒãƒ¼ãƒˆ</strong><br>
            <span style="font-size:0.95rem;">${results.ka.detail.åˆ†æ}</span>
        </div>`;

    const translationHtml = `æ—¥å¸¸ã®ã€Œ${komariText}ã€ã¯ã€ãŠå­ã•ã‚“ã®è„³ãŒ<strong>ã€Œ${honyakuText}ã€</strong>ã¨ã„ã†ã‚µã‚¤ãƒ³ã‚’å‡ºã—ã¦ã„ã‚‹è¨¼æ‹ ã§ã™ã€‚å¤§äººãŒ<strong>${results.ka.detail.æ‰‹ç«‹ã¦}</strong>ã‚’ç”¨æ„ã—ã€<strong>ã€Œ${kaHandan}ã€</strong>ã¨ã„ã†è¦–ç‚¹ã‚’æŒã¤ã“ã¨ã§ã€ãŠå­ã•ã‚“ã¯è‡ªåˆ†ã‚‰ã—ãåŠ›ã‚’ç™ºæ®ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚`;
    const messageHtml = `ã„ã¤ã‚‚æœ¬å½“ã«ãŠç–²ã‚Œæ§˜ã§ã™ã€‚ãŠå­ã•ã‚“ã®è¡Œå‹•ã«æ‚©ã¿ã€ãƒ’ãƒ³ãƒˆã‚’æ¢ãã†ã¨ã—ã¦ã„ã‚‹ã“ã¨è‡ªä½“ã€ã‚ãªãŸãŒã©ã‚Œã»ã©ãŠå­ã•ã‚“ã‚’å¤§åˆ‡ã«æƒ³ã£ã¦ã„ã‚‹ã‹ã®è¨¼æ˜ã§ã™ã€‚å®Œç’§ã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¤ãƒ©ã‚¤ãƒ©ã—ãŸæ™‚ã¯ã€Œã‚ã€ä»Šã¯è„³ãŒã‚µã‚¤ãƒ³ã‚’å‡ºã—ã¦ã„ã‚‹ã‚“ã ãªã€ã¨å°‘ã—å®¢è¦³çš„ã«çœºã‚ã¦ã¿ã¦ãã ã•ã„ã€‚ãã®æ°—ã¥ããŒãŠå­ã•ã‚“ã®å®‰å¿ƒæ„Ÿã«ã¤ãªãŒã‚Šã¾ã™ã€‚`;

    document.getElementById('total-content').innerHTML = `
        <div class="analysis-card">${summaryHtml}</div>
        <div style="background: #fff5f5; border: 2px solid #ff7f7f; padding: 25px; border-radius: 25px; margin: 25px 0;">
            <strong style="color:#ff7f7f; font-size:1.2rem;">ğŸ’ ç¿»è¨³ã‚µãƒãƒ¼ãƒˆ</strong><br><br><div style="line-height:1.8;">${translationHtml}</div>
        </div>
        <div style="background: #f0f7ff; padding: 30px; border-radius: 30px; margin-top: 35px; border: 1px solid #e0f0ff;">
            <strong style="color:#4db8ff; font-size:1.2rem;">ğŸ’Œ ãŠçˆ¶ã•ã‚“ãƒ»ãŠæ¯ã•ã‚“ã¸</strong><br><br><div style="line-height:1.8;">${messageHtml}</div>
        </div>`;

    document.getElementById('cap-summary').innerHTML = summaryHtml;
    document.getElementById('cap-translation').innerHTML = translationHtml;
    document.getElementById('cap-message').innerHTML = messageHtml;
}

function saveAsImage() {
    const area = document.getElementById('capture-container');
    html2canvas(area, { scale: 2, backgroundColor: "#fcf9f5", windowWidth: 1200 }).then(canvas => {
        const link = document.createElement('a');
        link.download = 'å­ã©ã‚‚ã‚µãƒãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰.png';
        link.href = canvas.toDataURL();
        link.click();
    });
}

document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        const targetTab = btn.dataset.tab;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        document.querySelectorAll(`.tab-btn[data-tab="${targetTab}"]`).forEach(b => b.classList.add('active'));
        document.getElementById(targetTab).classList.add('active');
        if(targetTab === 'total') generateTotalDiagnosis();
        window.scrollTo({top: 0, behavior: 'smooth'});
    });
});
</script>
</body>
</html>
