<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SUNO 配信用BGMプロンプト生成</title>

<style>
/* === 省略なし・前回UI完全踏襲 === */
:root{
  --bg:#07070a;
  --panel:#0f0f14;
  --accent:#ff4d00;
  --text:#f2f2f6;
  --muted:#b8b8c7;
}
body{
  margin:0;
  background:#050508;
  color:var(--text);
  font-family:system-ui,-apple-system,"Noto Sans JP",sans-serif;
}
.wrap{max-width:1200px;margin:auto;padding:20px}
.card{
  background:#0e0e14;
  border:1px solid #222;
  border-radius:18px;
  padding:16px;
  margin-bottom:16px;
}
h2{font-size:15px;margin:0 0 10px}
.btnrow{display:flex;flex-wrap:wrap;gap:8px}
.btn{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid #333;
  background:#111;
  color:#fff;
  cursor:pointer;
  font-size:12px;
}
.btn.active{
  border-color:var(--accent);
  box-shadow:0 0 0 2px rgba(255,77,0,.3);
}
textarea,input,select{
  width:100%;
  background:#0b0b10;
  border:1px solid #333;
  color:#fff;
  border-radius:10px;
  padding:10px;
  font-size:12px;
}
.actions{display:flex;gap:10px;justify-content:flex-end}
.primary{
  background:linear-gradient(#ff5a1f,#ff3d00);
  border:none;
  padding:10px 14px;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
}
.copy{
  background:#111;
  border:1px solid #444;
  padding:6px 10px;
  border-radius:999px;
  cursor:pointer;
  font-size:11px;
}
</style>
</head>

<body>
<div class="wrap">

<!-- INPUT -->
<div class="card">
<h2>① 配信条件を選択</h2>

<h3>用途プリセット</h3>
<div class="btnrow" data-group="preset">
  <button class="btn" data-value="education">教育</button>
  <button class="btn" data-value="commentary">解説</button>
  <button class="btn" data-value="corporate">企業</button>
</div>

<h3>配信スタイル</h3>
<div class="btnrow" data-group="style">
  <button class="btn" data-value="chatting">雑談</button>
  <button class="btn" data-value="gaming">ゲーム</button>
  <button class="btn" data-value="asmr">ASMR</button>
  <button class="btn" data-value="work">作業</button>
  <button class="btn" data-value="long">耐久</button>
</div>

<h3>使用場面</h3>
<div class="btnrow" data-group="scene">
  <button class="btn" data-value="waiting">待機</button>
  <button class="btn" data-value="opening">OP</button>
  <button class="btn" data-value="talk">雑談中</button>
  <button class="btn" data-value="gameplay">ゲーム中</button>
  <button class="btn" data-value="ending">ED</button>
</div>

<h3>ループ性</h3>
<div class="btnrow" data-group="loop">
  <button class="btn" data-value="low">弱</button>
  <button class="btn" data-value="medium">中</button>
  <button class="btn" data-value="high">強</button>
</div>

<h3>尺</h3>
<div class="btnrow" data-group="length">
  <button class="btn" data-value="30s">30秒</button>
  <button class="btn" data-value="1m">1分</button>
  <button class="btn" data-value="2m">2分</button>
  <button class="btn" data-value="loop">無限ループ</button>
</div>

<h3>展開量</h3>
<div class="btnrow" data-group="variation">
  <button class="btn" data-value="minimal">ミニマル</button>
  <button class="btn" data-value="normal">ほどほど</button>
  <button class="btn" data-value="dynamic">展開あり</button>
</div>

<div class="actions">
  <button class="primary" onclick="generate()">生成する</button>
</div>
</div>

<!-- OUTPUT -->
<div class="card">
<h2>② SUNO用出力</h2>

<h4>Style欄（英語） <button class="copy" onclick="copy('styleOut')">コピー</button></h4>
<textarea id="styleOut"></textarea>

<h4>Prompt欄（英語） <button class="copy" onclick="copy('promptOut')">コピー</button></h4>
<textarea id="promptOut"></textarea>

<h4>曲の説明・推奨使用場面（販売用） <button class="copy" onclick="copy('descOut')">コピー</button></h4>
<textarea id="descOut"></textarea>

<h4>すべてまとめて <button class="copy" onclick="copyAll()">コピー</button></h4>
<textarea id="allOut"></textarea>
</div>

</div>

<script>
const state = {};
document.querySelectorAll(".btnrow").forEach(row=>{
  row.addEventListener("click",e=>{
    const b=e.target.closest(".btn"); if(!b)return;
    if(row.dataset.group==="preset"){
      row.querySelectorAll(".btn").forEach(x=>x.classList.remove("active"));
      b.classList.add("active"); state[row.dataset.group]=b.dataset.value;
    }else{
      b.classList.toggle("active");
      state[row.dataset.group]=[...row.querySelectorAll(".active")].map(x=>x.dataset.value);
    }
  });
});

function generate(){
  const style = `instrumental streaming BGM, voice-friendly, ${state.scene?.join(", ")||""}`;
  const prompt = `
Create instrumental background music for livestreamers (VTuber).
No vocals, no lyrics, no voice samples.
Loop-friendly, low fatigue, stream-safe.
Style: ${state.style?.join(", ")||"general"}.
Scene: ${state.scene?.join(", ")}.
Loop strength: ${state.loop}.
Length: ${state.length}.
Variation: ${state.variation}.
Avoid harsh highs, aggressive leads, vocal range masking.
`.trim();

  const desc = `
配信向けに設計されたインストゥルメンタルBGMです。
${state.scene?.join("／")}の場面に最適で、声の邪魔をしないよう中域を抑えています。
長時間の配信でも疲れにくく、自然にループします。
`.trim();

  styleOut.value=style;
  promptOut.value=prompt;
  descOut.value=desc;
  allOut.value=`[STYLE]\n${style}\n\n[PROMPT]\n${prompt}\n\n[DESCRIPTION]\n${desc}`;
}

function copy(id){navigator.clipboard.writeText(document.getElementById(id).value);}
function copyAll(){copy("allOut");}
</script>

</body>
</html>
